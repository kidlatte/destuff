<MudDialog>
    <TitleContent>
        <MudText Typo="Typo.h6">Images</MudText>
    </TitleContent>
    <DialogContent>
        <MudCarousel ItemsSource="Items" @bind-SelectedIndex="SelectedIndex" Class="mud-width-full" Style="height: 100%; min-height: 400px;" AutoCycle="false">
            <ItemTemplate>
                <MudImage Src="@context.Url" Alt="@context.FileName" ObjectFit="ObjectFit.Cover" ObjectPosition="ObjectPosition.Center" Fluid="true"
                    Class="rounded-lg mh-100 w-100" />
            </ItemTemplate>
        </MudCarousel>
    </DialogContent>
</MudDialog>

@code {
    [CascadingParameter]
    MudDialogInstance? dialog { get; set; }

    [Parameter]
    public required ICollection<UploadModel> Items { get; set; }

    [Parameter]
    public UploadModel? Selected { get; set; }

    int SelectedIndex {
        get => Selected == null ? 0 : Items.ToList().IndexOf(Selected);
        set => Selected = Items.ElementAt(value);
    }
}
